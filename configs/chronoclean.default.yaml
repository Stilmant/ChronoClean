# ChronoClean default configuration
# Copy this file to your project root as 'chronoclean.yaml' to use it
# 
# Config file search order:
#   1. --config <path> argument (explicit)
#   2. chronoclean.yaml in current directory
#   3. chronoclean.yml in current directory
#   4. .chronoclean/config.yaml
#   5. .chronoclean/config.yml
#   6. Built-in defaults (no file needed)
#
# CLI arguments always override config file values.

version: 1.0

general:
  timezone: "local"
  recursive: true           # Scan subdirectories
  include_videos: true      # Include video files
  ignore_hidden_files: true # Skip files/folders starting with '.'
  dry_run_default: true     # Default to dry-run mode (safe)
  output_folder: ".chronoclean"

paths:
  source: "/volume1/photos_inbox"
  destination: "/volume1/photos_sorted"
  temp_folder: "/volume1/@tmp/chronoclean"

scan:
  image_extensions: [".jpg", ".jpeg", ".png", ".tiff", ".tif", ".heic", ".heif", ".webp", ".bmp", ".gif"]
  video_extensions: [".mp4", ".mov", ".avi", ".mkv", ".m4v", ".3gp", ".wmv", ".webm"]
  raw_extensions: [".cr2", ".nef", ".arw", ".dng", ".orf", ".rw2"]
  skip_exif_errors: true
  limit: null  # Set to integer for debugging (e.g., 100)

sorting:
  folder_structure: "YYYY/MM/DD"
  fallback_date_priority: ["exif", "filesystem", "folder_name", "heuristic"]
  heuristic:
    enabled: true
    max_days_from_cluster: 2

folder_tags:
  enabled: false
  tag_format: "{tag}"
  min_length: 3
  max_length: 40
  ignore_list: ["tosort", "unsorted", "misc", "backup", "temp", "tmp", "download", "downloads", "DCIM"]
  force_list: []
  auto_detect: true
  distance_check: true
  distance_threshold: 0.75

renaming:
  enabled: false
  pattern: "{date}_{time}{tag_part}"
  date_format: "%Y%m%d"
  time_format: "%H%M%S"
  lowercase_extensions: true
  keep_original_if_conflict: true

duplicates:
  policy: "safe"
  hashing_algorithm: "sha256"
  consider_resolution: true
  consider_metadata: true

export:
  format: "both"
  include_tags: true
  include_duplicates: true
  include_heuristics: true
  pretty: true
  output_path: ".chronoclean/plan"

dry_run:
  show_moves: true
  show_renames: true
  show_tags: true
  show_duplicates: true
  summary_only: false

logging:
  level: "info"
  color_output: true
  log_to_file: true
  file_path: ".chronoclean/chronoclean.log"

performance:
  multiprocessing: true
  max_workers: 0
  chunk_size: 500
  enable_cache: true
  cache_location: ".chronoclean/cache.db"

synology:
  safe_fs_mode: true
  use_long_paths: false
  min_free_space_mb: 500
